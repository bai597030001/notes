linux下锁定文件总共有3种方式： fcntl	flock	lockf

1. Posix定义了一种基于 fcntl 的文件锁机制,可以锁文件的任意以部分,也可以锁整个文件,
	包括将来要追加的部分.一个进程对一个文件可以有多个锁来 锁定不同区域,
	这种锁和信号量的概念一样,是自愿锁.
	
2. 传统的BSD通过 flock 系统调用来锁整个文件

3. System V使用 lockf 库函数,其实也是一个 fcntl 接口封装

linux支持所有上述锁.规则如下:

1. 可以同时使用 fcntl 和 flock ,但是他们彼此不相互干扰,防止出现死锁.

2. fcntl 锁定失败时立即返回, flock 和 lockf 则会阻塞等待