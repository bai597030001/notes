# OLTP

`Online transaction processing`，**联机事务处理**。

事务型数据库，采用行式存储

`OLTP`通常被运用于自动化的数据处理工作，如订单输入、金融业务…等反复性的日常性交易活动。

## 优势

OLTP 数据库通常采用行式存储。所有的列依次排列构成一行，以行为单位存储，再配合以 B+ 树或 SS-Table 作为索引，就能快速通过主键找到相应的行数据。

行式存储对于 OLTP 场景是很自然的：大多数操作都以实体（entity）为单位，即大多为**增删改查一整行记录**，显然把一行数据存在物理上相邻的位置是个很好的选择。

## 缺点



# OLAP

`Online analytical processing`，**联机分析处理**。

分析型数据库，采用列式存储



对于 OLAP 场景，一个典型的查询需要遍历整个表，进行分组、排序、聚合等操作，这样一来按行存储的优势就不复存在了。更糟糕的是，分析型 SQL 常常不会用到所有的列，而仅仅对其中某些感兴趣的列做运算，那一行中那些无关的列也不得不参与扫描。



## 优势

- 当查询语句只涉及部分列时，只需要扫描相关的列
- 每一列的数据都是相同类型的，彼此间相关性更大，对列数据压缩的效率较高

## 缺点



# 关系型

MySQL、Oracle、SQL Server、Db2等



# 非关系型

MongoDB、Redis、HBase等



# 行式数据库

## 列存优势

1、列存没有行存1666列的限制

2、列存的大量记录数扫描比行存节约资源

3、列存压缩比高，节约空间

4、列存的大量数据计算可以使用向量化执行，效率高



## 行存优势

1、行存查询多列时快

2、行存DML效率高

简单来说，行存适合OLTP业务，列存适合OLAP业务。



# 列式数据库

关系数据库针对存储数据行进行了优化，通常用于事务性应用程序，而列式数据库针对快速检索数据列进行了优化，通常用于分析应用程序。适用于数据库表的列式存储是分析查询性能的一个重要组成部分，因为它极大地降低了整体磁盘 I/O 要求，并减少了您需要从磁盘载入的数据量。

与其他 NoSQL 数据库一样，列式数据库旨在利用低成本硬件的分布式群集进行横向扩展，进而提高吞吐量，从而使其适用于数据仓库和大数据处理。



![](hbase/img/column-db1.png)

行式数据库是按照行存储的，行式数据库擅长随机读操作不适合用于大数据。像SQL server，Oracle，mysql等传统的是属于行式数据库范畴。

列式数据库从一开始就是面向大数据环境下数据仓库的数据分析而产生。数据库以行、列的二维表的形式存储数据，但是却以一维字符串的方式存储



# NoSQL

NoSQL=Not Only SQL，支持类似SQL的功能， 与Relational Database相辅相成

其适用于性能较高，不使用SQL意味着没有结构化的存储要求(SQL为结构化的查询语句)，没有约束之后架构更加灵活



## NoSQL数据库四大家族

列式存储：Hbase

键值存储：Redis

文档存储：MongoDB

图像存储：Neo4J
