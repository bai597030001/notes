核心函数
    void openlog(const char *ident, int option, int facility);

将某程序的日志写到指定文件中原理
    日志将输出到openlog第三个参数facility指定的设备上。通过配置50-default.conf文件，
	利用syslog为用户保留的设备类型(LOG_LOCAL0 到 LOG_LOCAL7)，将facility设备的输出内容保存到指定的文件中。

facility 的种类
    LOG_AUTH、LOG_AUTHPRIV、LOG_CRON、LOG_DAEMON、LOG_FTP、LOG_KERN、LOG_LOCAL0 through LOG_LOCAL7、
	LOG_LPR、LOG_MAIL、LOG_NEWS、LOG_SYSLOG、LOG_USER 、LOG_UUCP。

facility 与文件的映射
    syslog.conf在/etc目录下，但实际的配置文件保存在/etc/rsyslog.d/50-default.conf中。
50-default.conf文件内容如下：
auth,authpriv.*                 /var/log/auth.log
*.*;auth,authpriv.none          -/var/log/syslog
#cron.*                         /var/log/cron.log
#daemon.*                       -/var/log/daemon.log
kern.*                          -/var/log/kern.log
#lpr.*                          -/var/log/lpr.log
mail.*                          -/var/log/mail.log
#user.*                         -/var/log/user.log

#
# Logging for the mail system.  Split it up so that
# it is easy to write scripts to parse these files.
#
#mail.info                      -/var/log/mail.info
#mail.warn                      -/var/log/mail.warn
添加一行
local0.*				-/var/log/mg.log
注意用Tab隔开。
要重启电脑。

*********************************************************************************************
*		注意：自定义的日志输出文件一定要修改用户和组为 syslog和adm
*
*				chown	-R	syslog:adm		/var/log/my.log
*********************************************************************************************
*
*		注意2：LOG_LOCAL0~LOG_LOCAL7 为自定义facility,	当 openlog()中第三个参数为 LOG_LOCAL%
*
*				则对应的在 /etc/rsyslog.d/50-default.conf 中应该添加其对应的自定义文件的路径
*				如：local0.*				-/var/log/mg.log
*
*********************************************************************************************

测试程序
#include <syslog.h>


int main(int argc, char ** argv)
{
	openlog(0, LOG_CONS | LOG_PID, LOG_LOCAL0);
	syslog(LOG_INFO, "Test message generated by %s\n", argv[0]);
	closelog();
	return 0;
}

查看结果
    打开/var/log/mg.log，查看输出的log信息。